<pl-question-panel>
<p>
As a reminder, our overarching goal has been to prove the following language is undecidable:
</p>

$$
    \text{ExceptPalindrome} ~ := \{\langle M \rangle ~ | ~ M ~ \text{rejects all palindromes and accepts all other strings}\}
$$

<p>
From the previous two questions, we have formed a reduction from $\text{Halt}$ to ${\text{ExceptPalindrome}}$ and proved the forward direction of the statement $M$ halts on the given input $w$ if and only if $\textbf{DecideHalt}$ returns $\text{True}$. The correct reduction is displayed again below for convenience:
</p>

$$
\begin{align*}
&\underline{\textbf{DecideHalt}(\langle M,w\rangle):}\\
&\text{Encode the following algorithm} ~ M': \\
&\qquad\underline{M'(x):}\qquad\qquad\quad\\
&\qquad\quad\text{Run} ~ M ~ \text{on input} ~ w\\
&\qquad\quad\text{return} ~ x ~ \text{is not a palindrome}\\
&\text{if} ~ \textbf{DecideExceptPalindrome}(\langle M' \rangle):\\
&\quad\text{return True}\\
&\text{else:}\\
&\quad\text{return False}\\
\end{align*}
$$

<p>
Our final step is to prove the reverse direction of the statement that the algorithm $M$ halts on the
given input $w$ if and only if $\textbf{DecideHalt}$ returns $\text{True}$.
</p>

<p>
This time, to finalize the proof we will form the reverse direction, e.g. we will prove the contrapositive of the statement. We want to prove:

$$ M ~ \text{diverges on} ~ w \implies \textbf{DecideHalt}(\langle M,w \rangle) ~ \text{returns False} $$

This will complete the proof, and allow us to conclude that the algorithm $\textbf{DecideExceptPalindrome}$ cannot exist, and therefore the language $\text{ExceptPalindrome}$ must be undecidable.

</p>

</pl-question-panel>

<pl-order-blocks answers-name="path_to_cycle" source-blocks-order="random" grading-method="dag" feedback="first-wrong">
    <pl-answer correct="true" tag="init"> Suppose $M$ does not halt on input $w$.</pl-answer>
    <pl-answer correct="true" tag="mdivs" depends="init"> Then $M'$ diverges on every input string $x$. </pl-answer>
    <pl-answer correct="true" tag="mprejects" depends="mdivs"> In particular, $M'$ does not accept any non-palindromes, nor does it reject any palindromes. </pl-answer>
    <pl-answer correct="true" tag="mpnotinlang" depends="mprejects"> So $M'$ is not in the language $\text{ExceptPalindrome}$. </pl-answer>
    <pl-answer correct="true" tag="deprejects" depends="mpnotinlang"> So $\textbf{DecideExceptPalindrome}$ rejects the encoding $\langle M' \rangle$. </pl-answer>
    <pl-answer correct="true" tag="dhrejects" depends="deprejects"> So $\textbf{DecideHalt}$ correctly rejects the encoding $\langle M,w \rangle$. </pl-answer>

    <pl-answer correct="false"> Suppose $M$ halts on input $w$.</pl-answer>
    <pl-answer correct="false"> Then $M'$ accepts every input string $x$ that is not a palindrome, and rejects every input string $x$ that is a palindrome. </pl-answer>
    <pl-answer correct="false"> So $M'$ is in the language $\text{ExceptPalindrome}$. </pl-answer>
    <pl-answer correct="false"> So $\textbf{DecideExceptPalindrome}$ accepts the encoding $\langle M' \rangle$. </pl-answer>
    <pl-answer correct="false"> So $\textbf{DecideHalt}$ correctly accepts the encoding $\langle M,w \rangle$. </pl-answer>
</pl-order-blocks>
